(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2654:function(e,t,s){Promise.resolve().then(s.bind(s,7113))},7113:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var r=s(3808),l=s(2970);function n(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(!1),[a,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1);async function d(t){t.preventDefault(),n(!0),i(null);try{let t=await fetch("".concat("https://peptalk-api.polished-glitter-23bb.workers.dev","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to send magic link");c(!0)}catch(e){console.error("Login error:",e),i(e instanceof Error?e.message:"Something went wrong")}finally{n(!1)}}return o?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check your email"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["We've sent a magic link to ",(0,r.jsx)("strong",{children:e})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Click the link in the email to sign in. The link will expire in 15 minutes."}),(0,r.jsx)("button",{onClick:()=>{c(!1),t("")},className:"text-blue-600 hover:text-blue-700 text-sm font-semibold",children:"Use a different email"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to PepTalk"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sign in with your email to access your account"})]}),(0,r.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email address"}),(0,r.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",disabled:s})]}),a&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending magic link..."]}):"Send magic link"})]}),(0,r.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,r.jsx)("p",{children:"No password required. We'll email you a secure link to sign in."})}),(0,r.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Don't have an account? Enter your email above to get started."})})]})})}}},function(e){e.O(0,[850,663,744],function(){return e(e.s=2654)}),_N_E=e.O()}]);